<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=generator content="Hugo 0.59.1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>linux | 云端的blog</title><meta property="og:title" content="linux - 云端的blog"><meta property="og:type" content="article"><meta name=Keywords content><meta name=description content="linux"><meta name=author content><meta property="og:url" content="https://clouda3.github.io/categories/linux/"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=stylesheet href=/css/normalize.css><link rel=stylesheet href=/css/style.css><link rel=alternate type=application/rss+xml+xml href=https://clouda3.github.io/categories/linux/index.xml title=云端的blog><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><a id=logo href=https://clouda3.github.io/>云端的blog</a></div><div><nav id=nav-menu class=clearfix><a href=https://clouda3.github.io/>首页</a>
<a href=https://clouda3.github.io/posts/ title=Blog>Blog</a>
<a href=https://clouda3.github.io/tags/ title=Tags>Tags</a>
<a href=https://clouda3.github.io/about title=About>About</a>
<a href=https://clouda3.github.io/index.xml title=RSS>RSS</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><h3 class=archive-title>分类
<span class=keyword>linux</span>
中的文章</h3><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/linux-tcp-udp-port-test/>如何测试linux的tcp和udp端口</a></h1></header><date class="post-meta meta-date">2020年6月2日</date><div class="post-meta meta-category">|
<a href=https://clouda3.github.io/categories/linux>linux</a></div><div class=post-content>如何测试linux的tcp和udp端口 测试tcp 一般用使用 telnet
telnet 192.168.12.10 22 telnet 不支持udp协议，所以我们可以使用nc,nc可以支持tcp也可以支持udp
yum install -y nc nc -z -v 192.168.10.12 22 #tcp nc -z -v -u 192.168.10.12 123 # udp ……<p class=readmore><a href=https://clouda3.github.io/posts/linux-tcp-udp-port-test/>阅读全文</a></p></div></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/linux-cerbot/>给nginx安装免费的证书</a></h1></header><date class="post-meta meta-date">2020年5月8日</date><div class="post-meta meta-category">|
<a href=https://clouda3.github.io/categories/linux>linux</a></div><div class=post-content>https vs http https比http安全原因是传输的过程中使用了加密，因为https在服务器端使用证书 证书的认证需要认证机构，随便一个https的证书阿里巴巴云最便宜的一年要2000多，aws更是贵到天上，所以对于个人程序员来来说最好有免费的证书 cerbot就是你的选择 cerbot简介 cerbot就是Electronic Frontier Foundation (EFF)这个机构给大家发的福利，简单的一句话来说就是给你提供3个月的免费证书，证书到期后继续免费续约，个人网站是用最方便，每三个月更新一次就可以了 cerbot 使用 cerbot 安装脚本
yum -y install yum-utils yum-config-manager --enable rhui-REGION-rhel-server-extras rhui-REGION-rhel-server-optional sudo yum install certbot python2-certbot-nginx sudo certbot --nginx(sudo certbot certonly --nginx) echo &quot;0 0,12 * * * root python -c 'import random; import time; time.sleep(random.random() * 3600)' &amp;&amp; certbot renew -q&quot; | sudo tee -a /etc/crontab &gt; /dev/null (auto renewal) cerbot 证书验证 To confirm that your site is set up properly, visit https://yourwebsite.……<p class=readmore><a href=https://clouda3.github.io/posts/linux-cerbot/>阅读全文</a></p></div></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/linux-openvpn-install/>Openvpn最简单的安装方式</a></h1></header><date class="post-meta meta-date">2020年5月8日</date><div class="post-meta meta-category">|
<a href=https://clouda3.github.io/categories/linux>linux</a></div><div class=post-content>为什么会用到vpn vpn是我们经常会用到的工具，比如有些程序不允许我们在某些地区下载，有些网站我们没有办法看之类的，我们就vpn不管是pptp还是vpn无非改变都是路由问题，也就是你上网的出口的问题 openvpn openvpn是一款开源vpn软件，功能非常强大，用户非常多，遵循的是openvpn协议 缺点搭建有些复杂，但是有第三方的脚本协助搭建会非常简单
openvpn搭建借助于第三方脚本 作者git：https://github.com/Nyr/openvpn-install
wget https://git.io/vpn -O openvpn-install.sh &amp;&amp; bash openvpn-install.sh 最后生成一个*.ovpn文件
下载并安装openvpn gui：https://openvpn.net/community-downloads/
用安装好的客户端打开*.ovpn就可以登录远程的vpn服务器了
……<p class=readmore><a href=https://clouda3.github.io/posts/linux-openvpn-install/>阅读全文</a></p></div></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/linux-file-max-open/>linux最大文件打开数</a></h1></header><date class="post-meta meta-date">2020年5月7日</date><div class="post-meta meta-category">|
<a href=https://clouda3.github.io/categories/linux>linux</a></div><div class=post-content>文件最大打开数 如果服务器提供TCP服务（TCP层或者HTTP层），在并发访问量持续很高时，容易产生too many open files错误。这时查看netstat可以发现很多TIME_WAIT状态的链接，这说明大量链接处于半开状态，已经完成了请求响应，然后进行下一步操作，如果句柄数(文件打开数)超过了阈值，那就只能等待或者出错 解决方案 系统内核的修改
cat /proc/sys/fs/file-max sysctl -a sysctl -p 每个用户级别的修改
ulimit -n 1024000 (临时修改) vim /etc/security/limits.conf * soft nofile 2048 * hard nofile 2048 如果阿里云或者aws云里面的centos都是被优化过的，默认的1024都被修改成了65536了，所以对于大部分人来说足够用了
……<p class=readmore><a href=https://clouda3.github.io/posts/linux-file-max-open/>阅读全文</a></p></div></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/linux-tree/>linux的tree命令</a></h1></header><date class="post-meta meta-date">2020年5月6日</date><div class="post-meta meta-category">|
<a href=https://clouda3.github.io/categories/linux>linux</a></div><div class=post-content>linux tree command Centos 是默认不带tree 命令的，如果要使用首先要install tree command
yum install -y tree 使用tree 显示目录的深度为2级
tree -L 2 . ├── easy-rsa-old-2.3.3 │ ├── configure.ac │ ├── COPYING │ ├── COPYRIGHT.GPL │ ├── distro │ ├── doc │ ├── easy-rsa │ └── Makefile.am ├── frgs.log ├── frp_0.32.1_linux_amd64 │ ├── frgs.log │ ├── frpc │ ├── frpc_full.ini │ ├── frpc.ini │ ├── frps │ ├── frps_full.ini │ ├── frps.ini │ ├── frps.……<p class=readmore><a href=https://clouda3.github.io/posts/linux-tree/>阅读全文</a></p></div></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/pptp-client/>vpn客户端工具pptp介绍</a></h1></header><date class="post-meta meta-date">2020年5月4日</date><div class="post-meta meta-category">|
<a href=https://clouda3.github.io/categories/linux>linux</a></div><div class=post-content>pptp 安装 yum install ppp pptp pptp-setup -y
创建 链接文件 /etc/ppp/peers/pptp
pty &quot;pptp 039.9966.org --nolaunchpppd --debug&quot; name hk789 password ff800800 remotename PPTP require-mppe-128 require-mschap-v2 refuse-eap refuse-pap refuse-chap refuse-mschap noauth debug persist maxfail 0 defaultroute #replacedefaultroute #usepeerdns 执行命令 modprobe nf_conntrack_pptp pppd call pptp ……<p class=readmore><a href=https://clouda3.github.io/posts/pptp-client/>阅读全文</a></p></div></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/linux-lvm-resize/>lvm空间扩容</a></h1></header><date class="post-meta meta-date">2020年4月20日</date><div class="post-meta meta-category">|
<a href=https://clouda3.github.io/categories/linux>linux</a></div><div class=post-content>[root@localhost ~]# df -H Filesystem Size Used Avail Use% Mounted on devtmpfs 17G 0 17G 0% /dev tmpfs 17G 0 17G 0% /dev/shm tmpfs 17G 9.1M 17G 1% /run tmpfs 17G 0 17G 0% /sys/fs/cgroup /dev/mapper/centos-root 54G 1.4G 53G 3% / /dev/sda2 1.1G 148M 916M 14% /boot /dev/sda1 210M 12M 198M 6% /boot/efi /dev/mapper/centos-home 12T 35M 12T 1% /home tmpfs 3.4G 0 3.4G 0% /run/user/0 分区不够合理 root 下面空间不够用
umount /home lvreduce -L 5T /dev/mapper/centos-home lvextend -L +5T /dev/mapper/centos-root xfs_growfs /dev/mapper/centos-root mkfs.……<p class=readmore><a href=https://clouda3.github.io/posts/linux-lvm-resize/>阅读全文</a></p></div></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/linux-key-gen/>centos使用ssh-key免密登录</a></h1></header><date class="post-meta meta-date">2020年4月3日</date><div class="post-meta meta-category">|
<a href=https://clouda3.github.io/categories/linux>linux</a></div><div class=post-content>centos ssh login 免密码登录 修改linux主机sshd配置
vi /etc/ssh/sshd_config RSAAuthentication yes PubkeyAuthentication yes AuthorizedKeysFile .ssh/authorized_keys /sbin/service sshd restart 生成密钥,包括 id_rsa私钥，id_rsa.pub公钥
ssh-keygen -t rsa 更改文件名
mv ~/.ssh/id_rsa.pub ~/.ssh/authorized_keys 拷贝id_rsa文件内容到任何一个linux客户端,remote.pem,使用ssh登录
ssh -i remote.pem user@host ……<p class=readmore><a href=https://clouda3.github.io/posts/linux-key-gen/>阅读全文</a></p></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=Search>
<input type=hidden name=sitesearch value=https://clouda3.github.io/>
<button type=submit class="submit icon-search"></button></form></section><section class=widget><div class=addthis_inline_follow_toolbox></div><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5ddc902b7d401ce9"></script></section><section class=widget><h3 class=widget-title>最近文章</h3><ul class=widget-list><li><a href=https://clouda3.github.io/posts/application-network-issue-caused-thread-block/ title=交换机故障导致线程阻塞>交换机故障导致线程阻塞</a></li><li><a href=https://clouda3.github.io/posts/kafka-cluster-setup/ title="kafka cluster的搭建">kafka cluster的搭建</a></li><li><a href=https://clouda3.github.io/posts/alicloud_privatelink/ title=阿里云架构-使用privatelink让不同的vpc的服务可以访问>阿里云架构-使用privatelink让不同的vpc的服务可以访问</a></li><li><a href=https://clouda3.github.io/posts/jenkins_create_new_node/ title=如何配置jenkins新节点>如何配置jenkins新节点</a></li><li><a href=https://clouda3.github.io/posts/linux-tcp-udp-port-test/ title=如何测试linux的tcp和udp端口>如何测试linux的tcp和udp端口</a></li><li><a href=https://clouda3.github.io/posts/alicloud-terraform-create-ecs-ansible-provision/ title=使用terraform创建阿里ecs用ansible完成主机配置>使用terraform创建阿里ecs用ansible完成主机配置</a></li><li><a href=https://clouda3.github.io/posts/ansible-deploy-docker-container/ title=使用ansible在多台客户机安装docker>使用ansible在多台客户机安装docker</a></li><li><a href=https://clouda3.github.io/posts/linux-cerbot/ title=给nginx安装免费的证书>给nginx安装免费的证书</a></li><li><a href=https://clouda3.github.io/posts/linux-openvpn-install/ title=Openvpn最简单的安装方式>Openvpn最简单的安装方式</a></li><li><a href=https://clouda3.github.io/posts/linux-file-max-open/ title=linux最大文件打开数>linux最大文件打开数</a></li></ul></section><section class=widget><h3 class=widget-title>分类</h3><ul class=widget-list><li><a href=https://clouda3.github.io/categories/alicloud/>Alicloud (1)</a></li><li><a href=https://clouda3.github.io/categories/ansible/>ansible (2)</a></li><li><a href=https://clouda3.github.io/categories/architect/>architect (1)</a></li><li><a href=https://clouda3.github.io/categories/aws/>aws (17)</a></li><li><a href=https://clouda3.github.io/categories/cloud/>cloud (17)</a></li><li><a href=https://clouda3.github.io/categories/docker/>docker (2)</a></li><li><a href=https://clouda3.github.io/categories/gohugo/>gohugo (3)</a></li><li><a href=https://clouda3.github.io/categories/jenkins/>jenkins (1)</a></li><li><a href=https://clouda3.github.io/categories/kafka/>kafka (1)</a></li><li><a href=https://clouda3.github.io/categories/kubernets/>kubernets (1)</a></li><li><a href=https://clouda3.github.io/categories/linux/>linux (8)</a></li><li><a href=https://clouda3.github.io/categories/terraform/>terraform (1)</a></li><li><a href=https://clouda3.github.io/categories/vagrant/>vagrant (1)</a></li><li><a href=https://clouda3.github.io/categories/vm/>vm (1)</a></li></ul></section><section class=widget><h3 class=widget-title>标签</h3><div class=tagcloud><a href=https://clouda3.github.io/tags/ansible/>ansible</a>
<a href=https://clouda3.github.io/tags/aws/>aws</a>
<a href=https://clouda3.github.io/tags/block/>block</a>
<a href=https://clouda3.github.io/tags/cert/>cert</a>
<a href=https://clouda3.github.io/tags/docker/>docker</a>
<a href=https://clouda3.github.io/tags/hugo/>hugo</a>
<a href=https://clouda3.github.io/tags/ingress/>ingress</a>
<a href=https://clouda3.github.io/tags/jenkins/>jenkins</a>
<a href=https://clouda3.github.io/tags/jvm/>JVM</a>
<a href=https://clouda3.github.io/tags/k8s/>k8s</a>
<a href=https://clouda3.github.io/tags/kafka/>kafka</a>
<a href=https://clouda3.github.io/tags/linux/>linux</a>
<a href=https://clouda3.github.io/tags/lvm/>lvm</a>
<a href=https://clouda3.github.io/tags/maxfileopen/>maxfileopen</a>
<a href=https://clouda3.github.io/tags/openvpn/>openvpn</a>
<a href=https://clouda3.github.io/tags/pipeline/>pipeline</a>
<a href=https://clouda3.github.io/tags/privatelink/>privatelink</a>
<a href=https://clouda3.github.io/tags/saa/>saa</a>
<a href=https://clouda3.github.io/tags/sap/>sap</a>
<a href=https://clouda3.github.io/tags/sshkey/>sshkey</a>
<a href=https://clouda3.github.io/tags/terraform/>terraform</a>
<a href=https://clouda3.github.io/tags/themes/>themes</a>
<a href=https://clouda3.github.io/tags/vagrant/>vagrant</a>
<a href=https://clouda3.github.io/tags/vm/>vm</a>
<a href=https://clouda3.github.io/tags/vpc/>vpc</a>
<a href=https://clouda3.github.io/tags/vpn/>vpn</a>
<a href=https://clouda3.github.io/tags/zookeeper/>zookeeper</a></div></section><section class=widget><h3 class=widget-title>其它</h3><ul class=widget-list><li><a href=https://clouda3.github.io/index.xml>文章 RSS</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2022 <a href=https://clouda3.github.io/>云端的blog By </a>.
Powered by <a rel="nofollow noreferer noopener" href=https://gohugo.io target=_blank>Hugo</a>.</div></footer><a id=rocket href=#top></a><script type=text/javascript src="/js/totop.js?v=0.0.0" async></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-153597822-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-153597822-1');</script></body></html>