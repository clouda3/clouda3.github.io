<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=generator content="Hugo 0.59.1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Linux | 云端的blog</title><meta property="og:title" content="Linux - 云端的blog"><meta property="og:type" content="article"><meta name=Keywords content><meta name=description content="Linux"><meta name=author content><meta property="og:url" content="https://clouda3.github.io/categories/linux/"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=stylesheet href=/css/normalize.css><link rel=stylesheet href=/css/style.css><link rel=alternate type=application/rss+xml+xml href=https://clouda3.github.io/categories/linux/index.xml title=云端的blog><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><a id=logo href=https://clouda3.github.io/>云端的blog</a></div><div><nav id=nav-menu class=clearfix><a href=https://clouda3.github.io/>首页</a>
<a href=https://clouda3.github.io/posts/ title=Blog>Blog</a>
<a href=https://clouda3.github.io/tags/ title=Tags>Tags</a>
<a href=https://clouda3.github.io/about title=About>About</a>
<a href=https://clouda3.github.io/index.xml title=RSS>RSS</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><h3 class=archive-title>分类
<span class=keyword>Linux</span>
中的文章</h3><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/linux-file-max-open/>linux最大文件打开数</a></h1></header><date class="post-meta meta-date">2020年5月7日</date><div class="post-meta meta-category">|
<a href=https://clouda3.github.io/categories/linux>Linux</a></div><div class=post-content>文件最大打开数 如果服务器提供TCP服务（TCP层或者HTTP层），在并发访问量持续很高时，容易产生too many open files错误。这时查看netstat可以发现很多TIME_WAIT状态的链接，这说明大量链接处于半开状态，已经完成了请求响应，然后进行下一步操作，如果句柄数(文件打开数)超过了阈值，那就只能等待或者出错 解决方案 系统内核的修改
cat /proc/sys/fs/file-max sysctl -a sysctl -p 每个用户级别的修改
ulimit -n 1024000 (临时修改) vim /etc/security/limits.conf * soft nofile 2048 * hard nofile 2048 如果阿里云或者aws云里面的centos都是被优化过的，默认的1024都被修改成了65536了，所以对于大部分人来说足够用了
……<p class=readmore><a href=https://clouda3.github.io/posts/linux-file-max-open/>阅读全文</a></p></div></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/linux-tree/>linux的tree命令</a></h1></header><date class="post-meta meta-date">2020年5月6日</date><div class="post-meta meta-category">|
<a href=https://clouda3.github.io/categories/linux>Linux</a></div><div class=post-content>linux tree command Centos 是默认不带tree 命令的，如果要使用首先要install tree command
yum install -y tree 使用tree 显示目录的深度为2级
tree -L 2 . ├── easy-rsa-old-2.3.3 │ ├── configure.ac │ ├── COPYING │ ├── COPYRIGHT.GPL │ ├── distro │ ├── doc │ ├── easy-rsa │ └── Makefile.am ├── frgs.log ├── frp_0.32.1_linux_amd64 │ ├── frgs.log │ ├── frpc │ ├── frpc_full.ini │ ├── frpc.ini │ ├── frps │ ├── frps_full.ini │ ├── frps.ini │ ├── frps.……<p class=readmore><a href=https://clouda3.github.io/posts/linux-tree/>阅读全文</a></p></div></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/linux-lvm-resize/>lvm空间扩容</a></h1></header><date class="post-meta meta-date">2020年4月20日</date><div class="post-meta meta-category">|
<a href=https://clouda3.github.io/categories/linux>Linux</a></div><div class=post-content>[root@localhost ~]# df -H Filesystem Size Used Avail Use% Mounted on devtmpfs 17G 0 17G 0% /dev tmpfs 17G 0 17G 0% /dev/shm tmpfs 17G 9.1M 17G 1% /run tmpfs 17G 0 17G 0% /sys/fs/cgroup /dev/mapper/centos-root 54G 1.4G 53G 3% / /dev/sda2 1.1G 148M 916M 14% /boot /dev/sda1 210M 12M 198M 6% /boot/efi /dev/mapper/centos-home 12T 35M 12T 1% /home tmpfs 3.4G 0 3.4G 0% /run/user/0 分区不够合理 root 下面空间不够用
umount /home lvreduce -L 5T /dev/mapper/centos-home lvextend -L +5T /dev/mapper/centos-root xfs_growfs /dev/mapper/centos-root mkfs.……<p class=readmore><a href=https://clouda3.github.io/posts/linux-lvm-resize/>阅读全文</a></p></div></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/linux-key-gen/>centos使用ssh-key免密登录</a></h1></header><date class="post-meta meta-date">2020年4月3日</date><div class="post-meta meta-category">|
<a href=https://clouda3.github.io/categories/linux>Linux</a></div><div class=post-content>centos ssh login 免密码登录 修改linux主机sshd配置
vi /etc/ssh/sshd_config RSAAuthentication yes PubkeyAuthentication yes AuthorizedKeysFile .ssh/authorized_keys /sbin/service sshd restart 生成密钥,包括 id_rsa私钥，id_rsa.pub公钥
ssh-keygen -t rsa 更改文件名
mv ~/.ssh/id_rsa.pub ~/.ssh/authorized_keys 拷贝id_rsa文件内容到任何一个linux客户端,remote.pem,使用ssh登录
ssh -i remote.pem user@host ……<p class=readmore><a href=https://clouda3.github.io/posts/linux-key-gen/>阅读全文</a></p></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=Search>
<input type=hidden name=sitesearch value=https://clouda3.github.io/>
<button type=submit class="submit icon-search"></button></form></section><section class=widget><div class=addthis_inline_follow_toolbox></div><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5ddc902b7d401ce9"></script></section><section class=widget><h3 class=widget-title>最近文章</h3><ul class=widget-list><li><a href=https://clouda3.github.io/posts/linux-openvpn-install/ title=Openvpn最简单的安装方式>Openvpn最简单的安装方式</a></li><li><a href=https://clouda3.github.io/posts/linux-file-max-open/ title=linux最大文件打开数>linux最大文件打开数</a></li><li><a href=https://clouda3.github.io/posts/linux-tree/ title=linux的tree命令>linux的tree命令</a></li><li><a href=https://clouda3.github.io/posts/pptp-client/ title=vpn客户端工具pptp介绍>vpn客户端工具pptp介绍</a></li><li><a href=https://clouda3.github.io/posts/k8s-install-ingress/ title=k8s使用ingress总结>k8s使用ingress总结</a></li><li><a href=https://clouda3.github.io/posts/vagrant-windows-template/ title=vagrant使用介绍>vagrant使用介绍</a></li><li><a href=https://clouda3.github.io/posts/linux-lvm-resize/ title=lvm空间扩容>lvm空间扩容</a></li><li><a href=https://clouda3.github.io/posts/linux-key-gen/ title=centos使用ssh-key免密登录>centos使用ssh-key免密登录</a></li><li><a href=https://clouda3.github.io/posts/hugo-advanced-level-lesson/ title=手把手使用Hugo搭建网站-高级篇>手把手使用Hugo搭建网站-高级篇</a></li><li><a href=https://clouda3.github.io/posts/hugo-medium-level-lesson/ title=手把手使用Hugo搭建网站-中级篇>手把手使用Hugo搭建网站-中级篇</a></li></ul></section><section class=widget><h3 class=widget-title>分类</h3><ul class=widget-list><li><a href=https://clouda3.github.io/categories/aws/>aws (1)</a></li><li><a href=https://clouda3.github.io/categories/hugo/>hugo (3)</a></li><li><a href=https://clouda3.github.io/categories/k8s/>K8S (1)</a></li><li><a href=https://clouda3.github.io/categories/linux/>Linux (4)</a></li><li><a href=https://clouda3.github.io/categories/saa/>saa (1)</a></li><li><a href=https://clouda3.github.io/categories/sap/>sap (16)</a></li><li><a href=https://clouda3.github.io/categories/tool/>tool (2)</a></li><li><a href=https://clouda3.github.io/categories/vm/>VM (1)</a></li></ul></section><section class=widget><h3 class=widget-title>标签</h3><div class=tagcloud><a href=https://clouda3.github.io/tags/aws/>aws</a>
<a href=https://clouda3.github.io/tags/hugo/>hugo</a>
<a href=https://clouda3.github.io/tags/ingress/>ingress</a>
<a href=https://clouda3.github.io/tags/k8s/>k8s</a>
<a href=https://clouda3.github.io/tags/linux/>linux</a>
<a href=https://clouda3.github.io/tags/lvm/>lvm</a>
<a href=https://clouda3.github.io/tags/maxfileopen/>maxfileopen</a>
<a href=https://clouda3.github.io/tags/openvpn/>openvpn</a>
<a href=https://clouda3.github.io/tags/saa/>saa</a>
<a href=https://clouda3.github.io/tags/sap/>sap</a>
<a href=https://clouda3.github.io/tags/sshkey/>sshkey</a>
<a href=https://clouda3.github.io/tags/themes/>themes</a>
<a href=https://clouda3.github.io/tags/vagrant/>vagrant</a>
<a href=https://clouda3.github.io/tags/vm/>vm</a>
<a href=https://clouda3.github.io/tags/vpn/>vpn</a></div></section><section class=widget><h3 class=widget-title>其它</h3><ul class=widget-list><li><a href=https://clouda3.github.io/index.xml>文章 RSS</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href=https://clouda3.github.io/>云端的blog By </a>.
Powered by <a rel="nofollow noreferer noopener" href=https://gohugo.io target=_blank>Hugo</a>.</div></footer><a id=rocket href=#top></a><script type=text/javascript src="/js/totop.js?v=0.0.0" async></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-153597822-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-153597822-1');</script></body></html>