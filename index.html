<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=generator content="Hugo 0.59.1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>云端的blog |</title><meta property="og:title" content="云端的blog |"><meta property="og:type" content="website"><meta name=Keywords content><meta name=description content><meta property="og:url" content="https://clouda3.github.io/"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=stylesheet href=/css/normalize.css><link rel=stylesheet href=/css/style.css><link rel=alternate type=application/rss+xml+xml href=https://clouda3.github.io/index.xml title=云端的blog><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href=https://clouda3.github.io/>云端的blog</a></h1></div><div><nav id=nav-menu class=clearfix><a class=current href=https://clouda3.github.io/>首页</a>
<a href=https://clouda3.github.io/posts/ title=Blog>Blog</a>
<a href=https://clouda3.github.io/tags/ title=Tags>Tags</a>
<a href=https://clouda3.github.io/about title=About>About</a>
<a href=https://clouda3.github.io/index.xml title=RSS>RSS</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/linux-openvpn-install/ title=Openvpn最简单的安装方式>Openvpn最简单的安装方式</a></h1></header><date class="post-meta meta-date">2020年5月8日</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=https://clouda3.github.io/categories/tool>tool</a></span></div><div class=post-content>为什么会用到vpn vpn是我们经常会用到的工具，比如有些程序不允许我们在某些地区下载，有些网站我们没有办法看之类的，我们就vpn不管是pptp还是vpn无非改变都是路由问题，也就是你上网的出口的问题 openvpn openvpn是一款开源vpn软件，功能非常强大，用户非常多，遵循的是openvpn协议 缺点搭建有些复杂，但是有第三方的脚本协助搭建会非常简单
openvpn搭建借助于第三方脚本 作者git：https://github.com/Nyr/openvpn-install
wget https://git.io/vpn -O openvpn-install.sh &amp;&amp; bash openvpn-install.sh 最后生成一个*.ovpn文件
下载并安装openvpn gui：https://openvpn.net/community-downloads/
用安装好的客户端打开*.ovpn就可以登录远程的vpn服务器了
……</div><p class=readmore><a href=https://clouda3.github.io/posts/linux-openvpn-install/>阅读全文</a></p></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/linux-file-max-open/ title=linux最大文件打开数>linux最大文件打开数</a></h1></header><date class="post-meta meta-date">2020年5月7日</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=https://clouda3.github.io/categories/linux>Linux</a></span></div><div class=post-content>文件最大打开数 如果服务器提供TCP服务（TCP层或者HTTP层），在并发访问量持续很高时，容易产生too many open files错误。这时查看netstat可以发现很多TIME_WAIT状态的链接，这说明大量链接处于半开状态，已经完成了请求响应，然后进行下一步操作，如果句柄数(文件打开数)超过了阈值，那就只能等待或者出错 解决方案 系统内核的修改
cat /proc/sys/fs/file-max sysctl -a sysctl -p 每个用户级别的修改
ulimit -n 1024000 (临时修改) vim /etc/security/limits.conf * soft nofile 2048 * hard nofile 2048 如果阿里云或者aws云里面的centos都是被优化过的，默认的1024都被修改成了65536了，所以对于大部分人来说足够用了
……</div><p class=readmore><a href=https://clouda3.github.io/posts/linux-file-max-open/>阅读全文</a></p></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/linux-tree/ title=linux的tree命令>linux的tree命令</a></h1></header><date class="post-meta meta-date">2020年5月6日</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=https://clouda3.github.io/categories/linux>Linux</a></span></div><div class=post-content>linux tree command Centos 是默认不带tree 命令的，如果要使用首先要install tree command
yum install -y tree 使用tree 显示目录的深度为2级
tree -L 2 . ├── easy-rsa-old-2.3.3 │ ├── configure.ac │ ├── COPYING │ ├── COPYRIGHT.GPL │ ├── distro │ ├── doc │ ├── easy-rsa │ └── Makefile.am ├── frgs.log ├── frp_0.32.1_linux_amd64 │ ├── frgs.log │ ├── frpc │ ├── frpc_full.ini │ ├── frpc.ini │ ├── frps │ ├── frps_full.ini │ ├── frps.ini │ ├── frps.……</div><p class=readmore><a href=https://clouda3.github.io/posts/linux-tree/>阅读全文</a></p></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/pptp-client/ title=vpn客户端工具pptp介绍>vpn客户端工具pptp介绍</a></h1></header><date class="post-meta meta-date">2020年5月4日</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=https://clouda3.github.io/categories/tool>tool</a></span></div><div class=post-content>pptp 安装 yum install ppp pptp pptp-setup -y
创建 链接文件 /etc/ppp/peers/pptp
pty &quot;pptp 039.9966.org --nolaunchpppd --debug&quot; name hk789 password ff800800 remotename PPTP require-mppe-128 require-mschap-v2 refuse-eap refuse-pap refuse-chap refuse-mschap noauth debug persist maxfail 0 defaultroute #replacedefaultroute #usepeerdns 执行命令 modprobe nf_conntrack_pptp pppd call pptp ……</div><p class=readmore><a href=https://clouda3.github.io/posts/pptp-client/>阅读全文</a></p></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/k8s-install-ingress/ title=k8s使用ingress总结>k8s使用ingress总结</a></h1></header><date class="post-meta meta-date">2020年5月3日</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=https://clouda3.github.io/categories/k8s>K8S</a></span></div><div class=post-content>安装准备 Centos7.7 vm 或者真实的物理机三台(master一台,node两台) 硬件要求2GB ram,最低2CPU，最少32GB 硬盘 节点之间最好网络互通，如果不考虑安全可以关闭firewalld 可以访问到外部网络,因为需要网络资源，比如yum源和其他k8s需要的yaml文件 需要安装和配置 yum源配置 防火墙selinux的关闭与配置 swap分区配置 桥接ipv4流量交给iptables 文件句柄数的限制 Docker的安装 Kubeadmin,flannel 创建deployment,service,pod,ingress,ingress controller,kubernets-dashboard 具体安装步骤 VM 网络选择bridge模式 master:192.168.25.200 node:192.168.25.187&frasl;192.168.25.188
防火墙
$ systemctl stop firewalld $ systemctl disable firewalld Selinux
$ sed -i &quot;s/^SELINUX=enforcing/SELINUX=disabled/g&quot; /etc/selinux/config $ sed -i &quot;s/^SELINUX=permissive/SELINUX=disabled/g&quot; /etc/selinux/config $ setenforce 0 关闭swap
swapoff -a sed -i 's/.*swap.*/#&amp;/' /etc/fstab 网络转发
cat &gt; /etc/sysctl.d/k8s.conf &lt;&lt; EOF net.……</div><p class=readmore><a href=https://clouda3.github.io/posts/k8s-install-ingress/>阅读全文</a></p></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/vagrant-windows-template/ title=vagrant使用介绍>vagrant使用介绍</a></h1></header><date class="post-meta meta-date">2020年4月22日</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=https://clouda3.github.io/categories/vm>VM</a></span></div><div class=post-content>vagrant 简介 VirtualBox 是一款开源虚拟机软件,vagrant是一个基于Ruby的工具，用于创建和部署虚拟化开发环境。它使用Oracle的开源VirtualBox虚拟化系统，使用Chef创建自动化虚拟环境。 BBC Vagrant 是基于VirtualBox创建的虚拟机，并通过Vagrant进行打包而得到的VM环境。在虚拟机中部署好开发环境并建立虚拟机和实体机的文件共享，在开发时，可以通过实体机进行文件修改，并经过虚拟机中的环境执行，从而实现不同操作系统的工作环境的轻松部署。
安装 vagrant和virtualbox 下载并安装VirtualBox（ https://www.virtualbox.org/wiki/Downloads ）。
VirtualBox 4.3.12下载地址(windows请用此链接)：http://dlc-cdn.sun.com/virtualbox/4.3.12/index.html
下载并安装Vagrant（ http://www.vagrantup.com/downloads.html ）。
安装和定制box 下载windows 10 box文件。 https://app.vagrantup.com/mrlesmithjr/boxes/windows10/versions/1574780096/providers/virtualbox.box 到c:\vagrant\download
执行命令
vagrant box add win10 c:\vagrant\download\virtualbox.box cd c:\vagrant vagrant init win10 vagrant up 2&gt; vagrant.log 查看模板文件c:\vagrant\Vagrantfile
$script = &lt;&lt;-'SCRIPT' echo &quot;starting wechat&quot; ipconfig &gt; c:\ip.log C:\Users\wechat\WeChat.exe &gt; c:\wechat.log netstat &gt; c:\netstat.log echo &quot;started wechat&quot; SCRIPT Vagrant.……</div><p class=readmore><a href=https://clouda3.github.io/posts/vagrant-windows-template/>阅读全文</a></p></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/linux-lvm-resize/ title=lvm空间扩容>lvm空间扩容</a></h1></header><date class="post-meta meta-date">2020年4月20日</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=https://clouda3.github.io/categories/linux>Linux</a></span></div><div class=post-content>[root@localhost ~]# df -H Filesystem Size Used Avail Use% Mounted on devtmpfs 17G 0 17G 0% /dev tmpfs 17G 0 17G 0% /dev/shm tmpfs 17G 9.1M 17G 1% /run tmpfs 17G 0 17G 0% /sys/fs/cgroup /dev/mapper/centos-root 54G 1.4G 53G 3% / /dev/sda2 1.1G 148M 916M 14% /boot /dev/sda1 210M 12M 198M 6% /boot/efi /dev/mapper/centos-home 12T 35M 12T 1% /home tmpfs 3.4G 0 3.4G 0% /run/user/0 分区不够合理 root 下面空间不够用
umount /home lvreduce -L 5T /dev/mapper/centos-home lvextend -L +5T /dev/mapper/centos-root xfs_growfs /dev/mapper/centos-root mkfs.……</div><p class=readmore><a href=https://clouda3.github.io/posts/linux-lvm-resize/>阅读全文</a></p></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/linux-key-gen/ title=centos使用ssh-key免密登录>centos使用ssh-key免密登录</a></h1></header><date class="post-meta meta-date">2020年4月3日</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=https://clouda3.github.io/categories/linux>Linux</a></span></div><div class=post-content>centos ssh login 免密码登录 修改linux主机sshd配置
vi /etc/ssh/sshd_config RSAAuthentication yes PubkeyAuthentication yes AuthorizedKeysFile .ssh/authorized_keys /sbin/service sshd restart 生成密钥,包括 id_rsa私钥，id_rsa.pub公钥
ssh-keygen -t rsa 更改文件名
mv ~/.ssh/id_rsa.pub ~/.ssh/authorized_keys 拷贝id_rsa文件内容到任何一个linux客户端,remote.pem,使用ssh登录
ssh -i remote.pem user@host ……</div><p class=readmore><a href=https://clouda3.github.io/posts/linux-key-gen/>阅读全文</a></p></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/hugo-advanced-level-lesson/ title=手把手使用Hugo搭建网站-高级篇>手把手使用Hugo搭建网站-高级篇</a></h1></header><date class="post-meta meta-date">2019年11月26日</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=https://clouda3.github.io/categories/hugo>hugo</a></span></div><div class=post-content>1.3. 手把手使用hugo搭建网站高级篇
1.3.1. 創建页面的目錄 hugo提供了目錄的支持table of content
創建目錄首先你的文章必須有標題 在layouts/_default/single.html 添加代碼 {{.TableOfContents}}
{{ define &quot;main&quot; -}} &lt;div class=&quot;post&quot;&gt; &lt;h1&gt;{{ .Title }}&lt;/h1&gt; &lt;time datetime={{ .Date.Format &quot;2006-01-02T15:04:05Z0700&quot; }} class=&quot;post-date&quot;&gt;{{ .Date.Format &quot;Mon, Jan 2, 2006&quot; }}&lt;/time&gt; {{.TableOfContents}} {{ .Content }} &lt;/div&gt; {{ if .Site.DisqusShortname -}} &lt;h2&gt;Comments&lt;/h2&gt; {{ template &quot;_internal/disqus.html&quot; . }} {{- end }} {{ partial &quot;related.html&quot; . }} {{- end }}
1.3.2. 创建搜索 伪站内搜索 使用google cse……</div><p class=readmore><a href=https://clouda3.github.io/posts/hugo-advanced-level-lesson/>阅读全文</a></p></article><article class=post><header><h1 class=post-title><a href=https://clouda3.github.io/posts/hugo-medium-level-lesson/ title=手把手使用Hugo搭建网站-中级篇>手把手使用Hugo搭建网站-中级篇</a></h1></header><date class="post-meta meta-date">2019年11月26日</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=https://clouda3.github.io/categories/hugo>hugo</a></span></div><div class=post-content>1.2. 手把手使用hugo搭建网站进阶篇
1.2.1. 自定义菜单 配置定义菜单栏
layouts/partials/sidebar.html
&lt;aside class=&quot;sidebar&quot;&gt; &lt;div class=&quot;container sidebar-sticky&quot;&gt; &lt;div class=&quot;sidebar-about&quot;&gt; &lt;a href=&quot;{{ .Site.BaseURL }}&quot;&gt;&lt;h1&gt;{{ .Site.Title }}&lt;/h1&gt;&lt;/a&gt; &lt;p class=&quot;lead&quot;&gt; {{ with .Site.Params.description }} {{.}} {{ else }}{{end}} &lt;/p&gt; &lt;/div&gt; &lt;nav&gt; &lt;ul class=&quot;sidebar-nav&quot;&gt; {{ $currentPage := . }} {{ range .Site.Menus.main -}} &lt;li&gt; &lt;a class=&quot;sidebar-nav-item{{if or ($currentPage.IsMenuCurrent &quot;main&quot; .) ($currentPage.HasMenuCurrent &quot;main&quot; .) }} active{{end}}&quot; href=&quot;{{ .URL }}&quot; title=&quot;{{ .Title }}&quot;&gt;{{ .Name }}&lt;/a&gt; &lt;/li&gt; {{- end }} &lt;/ul&gt; &lt;ul class=&quot;sidebar-nav&quot;&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;/ul&gt; &lt;/nav&gt; &lt;p&gt;{{ with .……</div><p class=readmore><a href=https://clouda3.github.io/posts/hugo-medium-level-lesson/>阅读全文</a></p></article><ol class=page-navigator><li class=current><a href=https://clouda3.github.io/>1</a></li><li><a href=https://clouda3.github.io/page/2/>2</a></li><li><a href=https://clouda3.github.io/page/3/>3</a></li><li class=next><a href=https://clouda3.github.io/page/2/>下一页</a></li></ol></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=Search>
<input type=hidden name=sitesearch value=https://clouda3.github.io/>
<button type=submit class="submit icon-search"></button></form></section><section class=widget><div class=addthis_inline_follow_toolbox></div><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5ddc902b7d401ce9"></script></section><section class=widget><h3 class=widget-title>最近文章</h3><ul class=widget-list><li><a href=https://clouda3.github.io/posts/linux-openvpn-install/ title=Openvpn最简单的安装方式>Openvpn最简单的安装方式</a></li><li><a href=https://clouda3.github.io/posts/linux-file-max-open/ title=linux最大文件打开数>linux最大文件打开数</a></li><li><a href=https://clouda3.github.io/posts/linux-tree/ title=linux的tree命令>linux的tree命令</a></li><li><a href=https://clouda3.github.io/posts/pptp-client/ title=vpn客户端工具pptp介绍>vpn客户端工具pptp介绍</a></li><li><a href=https://clouda3.github.io/posts/k8s-install-ingress/ title=k8s使用ingress总结>k8s使用ingress总结</a></li><li><a href=https://clouda3.github.io/posts/vagrant-windows-template/ title=vagrant使用介绍>vagrant使用介绍</a></li><li><a href=https://clouda3.github.io/posts/linux-lvm-resize/ title=lvm空间扩容>lvm空间扩容</a></li><li><a href=https://clouda3.github.io/posts/linux-key-gen/ title=centos使用ssh-key免密登录>centos使用ssh-key免密登录</a></li><li><a href=https://clouda3.github.io/posts/hugo-advanced-level-lesson/ title=手把手使用Hugo搭建网站-高级篇>手把手使用Hugo搭建网站-高级篇</a></li><li><a href=https://clouda3.github.io/posts/hugo-medium-level-lesson/ title=手把手使用Hugo搭建网站-中级篇>手把手使用Hugo搭建网站-中级篇</a></li></ul></section><section class=widget><h3 class=widget-title>分类</h3><ul class=widget-list><li><a href=https://clouda3.github.io/categories/aws/>aws (1)</a></li><li><a href=https://clouda3.github.io/categories/hugo/>hugo (3)</a></li><li><a href=https://clouda3.github.io/categories/k8s/>K8S (1)</a></li><li><a href=https://clouda3.github.io/categories/linux/>Linux (4)</a></li><li><a href=https://clouda3.github.io/categories/saa/>saa (1)</a></li><li><a href=https://clouda3.github.io/categories/sap/>sap (16)</a></li><li><a href=https://clouda3.github.io/categories/tool/>tool (2)</a></li><li><a href=https://clouda3.github.io/categories/vm/>VM (1)</a></li></ul></section><section class=widget><h3 class=widget-title>标签</h3><div class=tagcloud><a href=https://clouda3.github.io/tags/aws/>aws</a>
<a href=https://clouda3.github.io/tags/hugo/>hugo</a>
<a href=https://clouda3.github.io/tags/ingress/>ingress</a>
<a href=https://clouda3.github.io/tags/k8s/>k8s</a>
<a href=https://clouda3.github.io/tags/linux/>linux</a>
<a href=https://clouda3.github.io/tags/lvm/>lvm</a>
<a href=https://clouda3.github.io/tags/maxfileopen/>maxfileopen</a>
<a href=https://clouda3.github.io/tags/openvpn/>openvpn</a>
<a href=https://clouda3.github.io/tags/saa/>saa</a>
<a href=https://clouda3.github.io/tags/sap/>sap</a>
<a href=https://clouda3.github.io/tags/sshkey/>sshkey</a>
<a href=https://clouda3.github.io/tags/themes/>themes</a>
<a href=https://clouda3.github.io/tags/vagrant/>vagrant</a>
<a href=https://clouda3.github.io/tags/vm/>vm</a>
<a href=https://clouda3.github.io/tags/vpn/>vpn</a></div></section><section class=widget><h3 class=widget-title>其它</h3><ul class=widget-list><li><a href=https://clouda3.github.io/index.xml>文章 RSS</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href=https://clouda3.github.io/>云端的blog By </a>.
Powered by <a rel="nofollow noreferer noopener" href=https://gohugo.io target=_blank>Hugo</a>.</div></footer><a id=rocket href=#top></a><script type=text/javascript src="/js/totop.js?v=0.0.0" async></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-153597822-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-153597822-1');</script></body></html>